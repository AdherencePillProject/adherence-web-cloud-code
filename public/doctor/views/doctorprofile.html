<html ng-app="app">
	<head>
		<title>My Doctor</title>
        <!-- Adding Bootstrap CSS -->
        <link rel="stylesheet" type="text/css" href="../../bower_components/bootstrap/dist/css/bootstrap.css">

        <!-- Adding Font Awesome -->
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.5.0/css/font-awesome.min.css">

        <!-- Adding Fonts -->
        <link href='https://fonts.googleapis.com/css?family=PT+Sans' rel='stylesheet' type='text/css'>

        <!-- Adding jQuery and jQuery UI -->
        <script src="../../bower_components/jquery/dist/jquery.js"></script>
        <script src="http://code.jquery.com/ui/1.9.2/jquery-ui.js"></script>

        <!-- Adding Bootstrap JS -->
        <script src="../../bower_components/bootstrap/dist/js/bootstrap.js"></script>

        <!-- Adding Parse JS -->
        <script src="http://www.parsecdn.com/js/parse-1.6.7.min.js"></script>

        <!--Add Angular-->
       <script src="../../bower_components/angular/angular.js"></script>p

        <!--Add Angular Directives-->
        <script src="../../common/js/angular-app.js"></script>

        <!-- Adding Custom CSS -->
        <link rel="stylesheet" href="../css/my.css" media="screen" title="no title" charset="utf-8">
        <link rel="stylesheet" type="text/less" href="css/home.less">

        <!-- Adding Custom JS -->
        <script type="text/javascript" src="../js/home.js"></script>
      	<script type="text/javascript" src="../js/doctorprofile.js"></script>
    </head>
	<body onload="getDoctorInfo()">
		<div id="new-header"></div>

		<div ng-controller='NavController as tab' ng-include src="'/partials/navbar/navbar.html'"></div>

		<div class="dashboard">
			<span class='title-name'>
				<i class="fa fa-user-md"></i>  My Doctor
			</span>
		</div>
		<br>

		<div class="container my-panel" id="backbox">
			<div id="topbox">
				<div class="circular"></div>
				<br></br>

				<div id="generalInfo">
					<h3 id="name">Name:</h3>
					<h3 id="phoneNumber">Phone Number:</h3>
					<h3 id="email">Email:</h3>
					<h3 id="clinic">Clinic:</h3>
				</div>



				<div id="appointments">
					<h2><i class="fa fa-plus-square"></i>  Appointments</h2>
					<p>Last Appointment:</p>
					<p>Next Appointment:</p>
					<p>Notes:</p>
				</div>
			</div>
		</div>
		<script type="text/javascript">
			$( document ).ready(function() {
				Parse.initialize("BDo39lSOtPuBwDfq0EBDgIjTzztIQE38Fuk03EcR", "ox76Y4RxB06A69JWAleRHSercHKomN2FVu61dfu3");
				var userId; // tested on fGQ4ihQXzi, works well
				// code to get the userID for the doctor from URL
				var query = new Parse.Query(Parse.User);
				query.equalTo("objectId", userId);  // find the user object for the doctor
				query.first({
					success: function(user) {
						$("#docName").html("Name: " + user.get("firstname") + " " + user.get("lastname"));
						$("#docEmail").html("Email: " + user.get("email"));
						$("#docPhone").html("Phone Number: " + user.get("phone"));
						var docId = user.get("doctorPointer").id;
						var doctor = Parse.Object.extend("Doctor");
						var query2 = new Parse.Query(doctor);
						query2.equalTo("objectId", docId);
						query2.first({
							success: function(doc) {
								$("#docClinic").html("Clinic: " + doc.get("hospitalName"));
							}
						});

					}
				});

			});
		</script>
	</body>
</html>
